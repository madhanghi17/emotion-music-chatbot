<!DOCTYPE html>
<html>
<head>
<title>Emotion Music Chatbot</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { font-family: Arial; background:#fafaff; padding:20px; }
#chat { height: 480px; overflow-y:auto; padding:10px; border-radius:8px; background:white; border:1px solid #ddd; }
.msg { margin:6px 0; padding:8px 12px; border-radius:6px; }
.user { background:#d7e9ff; text-align:right; }
.bot { background:#e7ffe3; }
</style>
</head>

<body>
<h2>ðŸŽµ Emotion-Based Music Recommender Chatbot</h2>
<div id="chat"></div><br>

<input id="input" placeholder="Tell me how you feel..." style="width:70%; padding:10px;">
<button onclick="send()" style="padding:10px;">Send</button>

<script>
async function send(){
    let text=document.getElementById("input").value;
    if(!text) return;
    add(text,"user");
    document.getElementById("input").value="";

    let reply = await ai(text);
    add(reply,"bot");
}

async function ai(message){
    let r=await fetch("https://api-inference.huggingface.co/models/facebook/blenderbot-400M-distill",{
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify({inputs: message})
    });
    let j=await r.json();
    return j.generated_text || "I cannot think right now.";
}

function add(t,type){
    let d=document.createElement("div");
    d.className="msg "+type;
    d.innerText=t;
    document.getElementById("chat").append(d);
    document.getElementById("chat").scrollTop=999999;
}
</script>

</body>
</html>
