<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mood Based AI Chatbot</title>
<style>
body { font-family: Arial; background:#222; color:white; text-align:center;}
#chat{height:350px;overflow-y:auto;border:2px solid #555;padding:10px;width:70%;margin:auto;background:#111;}
.msg{padding:8px;margin:6px;border-radius:8px;width:80%}
.user{background:#0a84ff; margin-left:20%}
.bot{background:#444; margin-right:20%}
input{width:70%;padding:10px;font-size:18px;border-radius:6px;border:none;margin-top:10px}
button{padding:10px 16px;font-size:18px;margin:10px;border:none;border-radius:6px;background:#0a84ff;color:white}
</style>
</head>

<body>

<h1>ðŸŽ§ Mood Based Chatbot</h1>
<div id="chat"></div>

<input id="input" placeholder="How do you feel now?">
<button onclick="send()">Send</button>

<script>
async function send(){
    let text=document.getElementById("input").value;
    if(!text.trim()) return;

    add(text,"user");
    document.getElementById("input").value="";

    let reply = await ai(text);
    add(reply,"bot");
}

async function ai(msg){

 let data = {
  inputs: `USER FEELS: ${msg}\nRespond in format:\nðŸŽµ Song: <song>\nâœ¨ Quote: <quote>`
 };

 try{
   let r = await fetch("https://api-inference.huggingface.co/models/google/flan-t5-large",{
     method:"POST",
     headers:{ "Content-Type":"application/json" },
     body:JSON.stringify(data)
   });
   let j = await r.json();
   return j[0].generated_text ?? "âš  Try again";
 }
 catch(e){
   return "âš  Model busy";
 }
}

function add(t,type){
 let box=document.createElement("div");
 box.className="msg "+type;
 box.innerText=t;
 document.getElementById("chat").appendChild(box);
 document.getElementById("chat").scrollTop=9999999;
}
</script>
</body>
</html>
